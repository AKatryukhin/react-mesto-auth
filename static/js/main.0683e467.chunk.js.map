{"version":3,"sources":["images/header-logo.svg","contexts/AppContext.js","components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","hooks/useFormAndValidation.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/constants.js","components/Register.js","components/Login.js","components/InfoTooltip.js","images/Union-yes.png","images/Union-no.png","components/ProtectedRoute.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["AppContext","React","createContext","Header","onSignOut","value","useContext","className","src","logo","alt","type","id","htmlFor","loggedIn","userData","email","path","to","exact","onClick","Footer","Date","getFullYear","CurrentUserContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","aria-label","link","name","length","Main","onEditAvatar","onAddPlace","onEditProfile","cards","avatar","about","map","PopupWithForm","title","isOpen","onClose","buttonTitle","children","onSubmit","isValid","noValidate","disabled","ImagePopup","api","address","token","this","_address","_token","res","ok","json","Promise","reject","status","fetch","headers","authorization","then","_handleResponse","method","body","JSON","stringify","useFormAndValidation","useState","values","setValues","errors","setErrors","setIsValid","resetForm","useCallback","newValues","newErrors","newIsValid","handleChange","e","target","validationMessage","closest","checkValidity","EditProfilePopup","onUpdateUser","description","useEffect","preventDefault","required","minLength","maxLength","placeholder","onChange","EditAvatarPopup","onUpdateAvatar","inputRef","useRef","current","ref","AddPlacePopup","BASE_URL","Register","handleRegister","password","Login","handleLogin","InfoTooltip","isRegist","ProtectedRoute","Component","component","props","handleResponse","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isInfoTooltipOpen","setIsInfoTooltipOpen","setCurrentUser","setCards","history","useHistory","getInitialCards","cardsData","catch","err","console","log","getProfileInfo","currentUserData","selectedCard","setSelectedCard","handleInfoTooltipClick","closeAllPopups","handleEscClose","evt","key","handleOverlayClose","classList","contains","window","addEventListener","removeEventListener","setIsRegist","setLoggedIn","setUserData","onSuccess","auth","localStorage","setItem","checkToken","jwt","getItem","data","push","Provider","removeItem","changeLikeCardStatus","newCardSomeLike","state","c","removeCard","filter","setProfileInfo","addCard","newCard","setUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0NAAe,MAA0B,wC,OCE5BA,EAAaC,IAAMC,gB,OCsCjBC,MAlCf,YAAgC,IAAdC,EAAa,EAAbA,UACVC,EAAQJ,IAAMK,WAAWN,GAE/B,OACE,yBAAQO,UAAU,sBAAlB,UACE,qBAAKA,UAAU,eAAeC,IAAKC,EAAMC,IAAI,8EAC7C,uBAAOH,UAAU,sBAAsBI,KAAK,WAAWC,GAAG,WAC1D,uBAAOL,UAAU,cAAcM,QAAQ,SAAvC,SACE,2BAEF,sBAAKN,UAAU,yBAAf,UACGF,EAAMS,UACL,sBAAMP,UAAU,oBAAhB,SAAqCF,EAAMU,SAASC,QAEtD,cAAC,IAAD,CAAOC,KAAK,UAAZ,SACE,cAAC,IAAD,CAAMV,UAAU,eAAeW,GAAG,UAAlC,8CAIF,cAAC,IAAD,CAAOD,KAAK,UAAZ,SACE,cAAC,IAAD,CAAMV,UAAU,eAAeW,GAAG,UAAlC,kFAIF,cAAC,IAAD,CAAOC,OAAK,EAACF,KAAK,IAAlB,SACE,cAAC,IAAD,CAAMG,QAAShB,EAAWG,UAAU,eAAeW,GAAG,UAAtD,qDCvBKG,MARf,WACE,OACI,wBAAQd,UAAU,gCAAlB,SACE,oBAAGA,UAAU,oBAAb,mBAAyC,IAAIe,MAAOC,cAApD,uBCAKC,EAAqBvB,IAAMC,gBC8DzBuB,MA9Df,YAAgE,IAAhDC,EAA+C,EAA/CA,KAAMC,EAAyC,EAAzCA,YAAaC,EAA4B,EAA5BA,WAAYC,EAAgB,EAAhBA,aACvCC,EAAc7B,IAAMK,WAAWkB,GAG/BO,EAAQL,EAAKM,MAAMC,MAAQH,EAAYG,IAGvCC,EAAyB,uBAC7BH,EAAQ,4BAA8B,IAIlCI,EAAUT,EAAKU,MAAMC,MAAK,SAACC,GAAD,OAAOA,EAAEL,MAAQH,EAAYG,OAGvDM,EAAuB,sBAC3BJ,EAAU,0BAA4B,IAexC,OACE,yBAAS5B,UAAU,QAAnB,SACE,yBAAQA,UAAU,iBAAlB,UACE,wBACEA,UAAW2B,EACXvB,KAAK,SACL6B,aAAW,2GACXpB,QAXR,WACES,EAAaH,MAYT,qBACElB,IAAKkB,EAAKe,KACV/B,IAAKgB,EAAKgB,KACVnC,UAAU,eACVa,QAzBR,WACEO,EAAYD,MA0BR,6BAAYnB,UAAU,eAAtB,UACE,oBAAIA,UAAU,cAAd,SAA6BmB,EAAKgB,OAClC,sBAAKnC,UAAU,wBAAf,UACE,wBACEA,UAAWgC,EACX5B,KAAK,SACL6B,aAAW,+FACXpB,QA9BZ,WACEQ,EAAWF,MA+BH,mBAAGnB,UAAU,oBAAb,SAAkCmB,EAAKU,MAAMO,qBCG1CC,MAzDf,YAQI,IAPFC,EAOC,EAPDA,aACAC,EAMC,EANDA,WACAC,EAKC,EALDA,cACApB,EAIC,EAJDA,YACAqB,EAGC,EAHDA,MACApB,EAEC,EAFDA,WACAC,EACC,EADDA,aAEMC,EAAc7B,IAAMK,WAAWkB,GAErC,OACE,uBAAMjB,UAAU,oBAAhB,UACE,0BAASA,UAAU,qCAAnB,UACE,qBAAKA,UAAU,kBAAkBa,QAASyB,EAA1C,SACE,qBACEtC,UAAU,iBACVC,IAAKsB,EAAYmB,OACjBvC,IAAI,4FAGR,sBAAKH,UAAU,gBAAf,UACE,sBAAKA,UAAU,oBAAf,UACE,oBAAIA,UAAU,gBAAd,SAA+BuB,EAAYY,OAC3C,wBACE/B,KAAK,SACLJ,UAAU,gBACViC,aAAW,iPACXpB,QAAS2B,OAGb,mBAAGxC,UAAU,eAAb,SAA6BuB,EAAYoB,WAE3C,wBACE3C,UAAU,eACVI,KAAK,SACL6B,aAAW,6HACXpB,QAAS0B,OAGb,yBAASvC,UAAU,yBAAyBiC,aAAW,oDAAvD,SACGQ,EAAMG,KAAI,SAACzB,GACV,OACE,cAAC,EAAD,CAEEC,YAAaA,EACbD,KAAMA,EACNE,WAAYA,EACZC,aAAcA,GAJTH,EAAKO,cCNTmB,MA1Cf,YASI,IARFV,EAQC,EARDA,KACAW,EAOC,EAPDA,MACAC,EAMC,EANDA,OACAC,EAKC,EALDA,QACAC,EAIC,EAJDA,YACAC,EAGC,EAHDA,SACAC,EAEC,EAFDA,SACAC,EACC,EADDA,QAEA,OACE,yBACEpD,UAAS,2BAAsBmC,EAAtB,YAA8BY,EAAS,eAAiB,IADnE,SAGE,sBAAK/C,UAAU,mBAAf,UACE,wBACEI,KAAK,SACLJ,UAAU,eACViC,aAAW,2GACXpB,QAASmC,IAEX,oBAAIhD,UAAU,eAAd,SAA8B8C,IAC9B,uBACEK,SAAUA,EACVnD,UAAU,cACVmC,KAAI,UAAKA,EAAL,SACJkB,YAAU,EAJZ,UAMGH,EACD,wBACElD,UAAU,cACVI,KAAK,SACL6B,aAAW,8FACXqB,UAAWF,EAJb,SAMGH,aCVEM,MAzBf,YAAwC,IAAlBpC,EAAiB,EAAjBA,KAAM6B,EAAW,EAAXA,QAC1B,OACE,yBAAShD,UAAS,iCAA4BmB,GAAQ,gBAAtD,SACE,sBAAKnB,UAAU,yBAAf,UACE,wBACEI,KAAK,SACLJ,UAAU,uCACViC,aAAW,oIACXpB,QAASmC,IAEX,yBAAQhD,UAAU,uBAAlB,UACE,qBAEEC,IAAG,OAAEkB,QAAF,IAAEA,OAAF,EAAEA,EAAMe,KACX/B,IAAG,OAAEgB,QAAF,IAAEA,OAAF,EAAEA,EAAMgB,KACXnC,UAAU,iBAEZ,4BAAYA,UAAU,qBAAtB,SACE,oBAAIA,UAAU,oBAAd,SAAmCmB,EAAOA,EAAKgB,KAAO,gB,gBC6EnDqB,EALH,I,WAzFV,cAAiC,IAAnBC,EAAkB,EAAlBA,QAASC,EAAS,EAATA,MAAS,oBAC9BC,KAAKC,SAAWH,EAChBE,KAAKE,OAASH,E,mDAGhB,SAAgBI,GACd,OAAKA,EAAIC,GAGFD,EAAIE,OAFFC,QAAQC,OAAR,iBAAyBJ,EAAIK,W,4BAKxC,WACE,OAAOC,MAAM,GAAD,OAAIT,KAAKC,SAAT,aAA8B,CACxCS,QAAS,CACPC,cAAeX,KAAKE,OACpB,eAAgB,sBAEjBU,KAAKZ,KAAKa,mB,6BAGf,WACE,OAAOJ,MAAM,GAAD,OAAIT,KAAKC,SAAT,UAA2B,CACrCS,QAAS,CACPC,cAAeX,KAAKE,UAErBU,KAAKZ,KAAKa,mB,4BAGf,YAAiC,IAAhBrC,EAAe,EAAfA,KAAMQ,EAAS,EAATA,MACrB,OAAOyB,MAAM,GAAD,OAAIT,KAAKC,SAAT,aAA8B,CACxCa,OAAQ,QACRJ,QAAS,CACPC,cAAeX,KAAKE,OACpB,eAAgB,oBAElBa,KAAMC,KAAKC,UAAU,CACnBzC,KAAMA,EACNQ,MAAOA,MAER4B,KAAKZ,KAAKa,mB,2BAGf,YAA2B,IAAX9B,EAAU,EAAVA,OACd,OAAO0B,MAAM,GAAD,OAAIT,KAAKC,SAAT,oBAAqC,CAC/Ca,OAAQ,QACRJ,QAAS,CACPC,cAAeX,KAAKE,OACpB,eAAgB,oBAElBa,KAAMC,KAAKC,UAAU,CACnBlC,OAAQA,MAET6B,KAAKZ,KAAKa,mB,qBAGf,YAAyB,IAAfrC,EAAc,EAAdA,KAAMD,EAAQ,EAARA,KACd,OAAOkC,MAAM,GAAD,OAAIT,KAAKC,SAAT,UAA2B,CACrCa,OAAQ,OACRJ,QAAS,CACPC,cAAeX,KAAKE,OACpB,eAAgB,oBAElBa,KAAMC,KAAKC,UAAU,CACnBzC,KAAMA,EACND,KAAMA,MAEPqC,KAAKZ,KAAKa,mB,wBAGf,SAAWnE,GACT,OAAO+D,MAAM,GAAD,OAAIT,KAAKC,SAAT,kBAA2BvD,GAAM,CAC3CoE,OAAQ,SACRJ,QAAS,CACPC,cAAeX,KAAKE,UAErBU,KAAKZ,KAAKa,mB,kCAGf,SAAqBnE,EAAIuB,GACzB,OAAOwC,MAAM,GAAD,OAAIT,KAAKC,SAAT,wBAAiCvD,GAAM,CACjDoE,OAAQ7C,EAAW,SAAW,MAC9ByC,QAAS,CACPC,cAAeX,KAAKE,UAErBU,KAAKZ,KAAKa,qB,KAIH,CAAQ,CAClBf,QAAS,8CACTC,MAAO,yC,gBC1FM,SAASmB,IACtB,MAA4BC,mBAAS,IAArC,mBAAOC,EAAP,KAAeC,EAAf,KACA,EAA4BF,mBAAS,IAArC,mBAAOG,EAAP,KAAeC,EAAf,KACA,EAA8BJ,oBAAS,GAAvC,mBAAO1B,EAAP,KAAgB+B,EAAhB,KASMC,EAAYC,uBAChB,WAAyD,IAAxDC,EAAuD,uDAA3C,GAAIC,EAAuC,uDAA3B,GAAIC,EAAuB,wDACtDR,EAAUM,GACVJ,EAAUK,GACVJ,EAAWK,KAEb,CAACR,EAAWE,EAAWC,IAGzB,MAAO,CACLJ,SACAU,aAlBmB,SAACC,GACpB,MAAwBA,EAAEC,OAAlBxD,EAAR,EAAQA,KAAMrC,EAAd,EAAcA,MACdkF,EAAU,2BAAKD,GAAN,kBAAe5C,EAAOrC,KAC/BoF,EAAU,2BAAKD,GAAN,kBAAe9C,EAAOuD,EAAEC,OAAOC,qBACxCT,EAAWO,EAAEC,OAAOE,QAAQ,QAAQC,kBAepCb,SACA7B,UACAgC,YACAJ,YACAG,cCkDWY,MA3Ef,YAA8D,IAAlChD,EAAiC,EAAjCA,OAAQC,EAAyB,EAAzBA,QAASgD,EAAgB,EAAhBA,aAErCzE,EAAc7B,IAAMK,WAAWkB,GACrC,EACE4D,IADME,EAAR,EAAQA,OAAQU,EAAhB,EAAgBA,aAAcR,EAA9B,EAA8BA,OAAQ7B,EAAtC,EAAsCA,QAAS4B,EAA/C,EAA+CA,UAGvC7C,EAAsB4C,EAAtB5C,KAAM8D,EAAgBlB,EAAhBkB,YAuBd,OAnBAC,qBAAU,WACJ3E,GACFyD,EAAU,CACR7C,KAAMZ,EAAYY,MAAQ,GAC1B8D,YAAa1E,EAAYoB,OAAS,OAGrC,CAACpB,EAAawB,EAAQiC,IAavB,cAAC,EAAD,CACE7B,SAZJ,SAAsBuC,GACpBA,EAAES,iBAEF/C,GACE4C,EAAa,CACX7D,KAAMA,EACNQ,MAAOsD,KAOT9D,KAAK,YACLW,MAAM,4HACNC,OAAQA,EACRC,QAASA,EACTC,YAAY,yDACZG,QAASA,EAPX,SASE,2BAAUpD,UAAU,cAApB,UACE,uBACEI,KAAK,OACLJ,UAAU,sCACVK,GAAG,aACH8B,KAAK,OACLiE,UAAQ,EACRC,UAAU,IACVC,UAAU,KACVC,YAAY,qBACZzG,MAAOqC,GAAQ,GACfqE,SAAUf,IAEZ,sBAAMzF,UAAU,sCAAhB,SACGiF,EAAO9C,OAEV,uBACE/B,KAAK,OACLJ,UAAU,uCACVK,GAAG,cACH8B,KAAK,cACLiE,UAAQ,EACRC,UAAU,IACVC,UAAU,MACVC,YAAY,mDACZzG,MAAOmG,GAAe,GACtBO,SAAUf,IAEZ,sBAAMzF,UAAU,sCAAhB,SACGiF,EAAOgB,oBCpBHQ,MAjDf,YAA+D,IAApC1D,EAAmC,EAAnCA,OAAQC,EAA2B,EAA3BA,QAAS0D,EAAkB,EAAlBA,eACpCC,EAAWjH,IAAMkH,SACvB,EAAkD/B,IAA1CE,EAAR,EAAQA,OAAQU,EAAhB,EAAgBA,aAAcR,EAA9B,EAA8BA,OAAQ7B,EAAtC,EAAsCA,QAE9BlB,EAAS6C,EAAT7C,KAeR,OACE,cAAC,EAAD,CACEiB,SAfJ,SAAsBuC,GACpBA,EAAES,iBACF/C,GACEsD,EACE,CACEhE,OAAQiE,EAASE,QAAQ/G,QAE3B,WACE6G,EAASE,QAAQ/G,MAAQ,OAQ7BqC,KAAK,cACLW,MAAM,wFACNC,OAAQA,EACRC,QAASA,EACTC,YAAY,yDACZG,QAASA,EAPX,SASE,2BAAUpD,UAAU,cAApB,UACE,uBACE8G,IAAKH,EACLvG,KAAK,MACLJ,UAAU,2DACVK,GAAG,oBACH8B,KAAK,OACLrC,MAAOoC,GAAQ,GACfqE,YAAY,yFACZH,UAAQ,EACRI,SAAUf,IAEZ,sBAAMzF,UAAU,6CAAhB,SACGiF,EAAO/C,aCgBH6E,MA1Df,YAAyD,IAAhChE,EAA+B,EAA/BA,OAAQC,EAAuB,EAAvBA,QAAST,EAAc,EAAdA,WACxC,EACEsC,IADME,EAAR,EAAQA,OAAQU,EAAhB,EAAgBA,aAAcR,EAA9B,EAA8BA,OAAQ7B,EAAtC,EAAsCA,QAAS4B,EAA/C,EAA+CA,UAGvC7C,EAAe4C,EAAf5C,KAAMD,EAAS6C,EAAT7C,KAUd,OACE,cAAC,EAAD,CACEiB,SAVJ,SAAsBuC,GACpBA,EAAES,iBACF/C,GACEb,EAAW,CAAEJ,OAAMD,SAAQ,WACzB8C,EAAU,CAAE9C,KAAM,GAAIC,KAAM,SAO9BA,KAAK,aACLW,MAAM,gEACNC,OAAQA,EACRC,QAASA,EACTC,YAAY,6CACZG,QAASA,EAPX,SASE,2BAAUpD,UAAU,cAApB,UACE,uBACEI,KAAK,OACLJ,UAAU,sCACVK,GAAG,cACH8B,KAAK,OACLoE,YAAY,mDACZH,UAAQ,EACRC,UAAU,IACVC,UAAU,KACVE,SAAUf,EACV3F,MAAOqC,GAAQ,KAEjB,sBAAMnC,UAAU,uCAAhB,SACGiF,EAAO9C,OAEV,uBACE/B,KAAK,MACLJ,UAAU,uCACVK,GAAG,aACH8B,KAAK,OACLoE,YAAY,qGACZH,UAAQ,EACRI,SAAUf,EACV3F,MAAOoC,GAAc,KAEvB,sBAAMlC,UAAU,sCAAhB,SACGiF,EAAO/C,aCrDL8E,EAAW,gCCmETC,EAjEE,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,eAClB,EACErC,IADME,EAAR,EAAQA,OAAQU,EAAhB,EAAgBA,aAAcR,EAA9B,EAA8BA,OAAQ7B,EAAtC,EAAsCA,QAAS4B,EAA/C,EAA+CA,UAGvCvE,EAAoBsE,EAApBtE,MAAO0G,EAAapC,EAAboC,SAUf,OACE,0BAASnH,UAAU,OAAnB,UACE,oBAAIA,UAAU,cAAd,gFACA,uBACEmD,SAZe,SAACuC,GACpBA,EAAES,iBACF/C,GACE8D,EAAe,CAAEzG,QAAO0G,aAAY,WAClCnC,EAAU,QASVhF,UAAU,aACVmC,KAAK,YACLkB,YAAU,EAJZ,UAME,uBACEjD,KAAK,QACLJ,UAAU,cACVK,GAAG,QACH8B,KAAK,QACLiE,UAAQ,EACRC,UAAU,IACVC,UAAU,KACVC,YAAY,QACZzG,MAAOW,GAAS,GAChB+F,SAAUf,IAEZ,sBAAMzF,UAAU,oBAAhB,SAAqCiF,EAAOxE,QAC5C,uBACEL,KAAK,WACLJ,UAAU,cACVK,GAAG,WACH8B,KAAK,WACLiE,UAAQ,EACRC,UAAU,IACVC,UAAU,KACVC,YAAY,uCACZzG,MAAOqH,GAAY,GACnBX,SAAUf,IAEZ,sBAAMzF,UAAU,oBAAhB,SAAqCiF,EAAOkC,WAC5C,wBACEnH,UAAU,eACVI,KAAK,SACL6B,aAAW,8FACXqB,UAAWF,EAJb,6HASF,cAAC,IAAD,CAAMpD,UAAU,aAAaW,GAAG,UAAhC,qKCMSyG,MAjEf,YAAiC,IAAhBC,EAAe,EAAfA,YACf,EACExC,IADME,EAAR,EAAQA,OAAQU,EAAhB,EAAgBA,aAAcR,EAA9B,EAA8BA,OAAQ7B,EAAtC,EAAsCA,QAAS4B,EAA/C,EAA+CA,UAGvCvE,EAAoBsE,EAApBtE,MAAO0G,EAAapC,EAAboC,SAaf,OACE,0BAASnH,UAAU,OAAnB,UACE,oBAAIA,UAAU,cAAd,sCACA,uBACEmD,SAfe,SAACuC,GACpBA,EAAES,iBACG1F,GAAU0G,GAGf/D,GACEiE,EAAY,CAAE5G,QAAO0G,aAAY,WAC/BnC,EAAU,QASVhF,UAAU,aACVmC,KAAK,YACLkB,YAAU,EAJZ,UAME,uBACEjD,KAAK,QACLJ,UAAU,cACVK,GAAG,QACH8B,KAAK,QACLiE,UAAQ,EACRC,UAAU,IACVC,UAAU,KACVC,YAAY,QACZzG,MAAOW,GAAS,GAChB+F,SAAUf,IAEZ,sBAAMzF,UAAU,oBAAhB,SAAqCiF,EAAOxE,QAC5C,uBACEL,KAAK,WACLJ,UAAU,cACVK,GAAG,WACH8B,KAAK,WACLiE,UAAQ,EACRC,UAAU,IACVC,UAAU,MACVC,YAAY,uCACZzG,MAAOqH,GAAY,GACnBX,SAAUf,IAEZ,sBAAMzF,UAAU,oBAAhB,SAAqCiF,EAAOkC,WAC5C,wBACEnH,UAAU,eACVI,KAAK,SACL6B,aAAW,8FACXqB,UAAWF,EAJb,mDCtBOkE,MA5Bf,YAA2C,IAApBvE,EAAmB,EAAnBA,OAAQC,EAAW,EAAXA,QACvBlD,EAAQJ,IAAMK,WAAWN,GAE/B,OACE,yBACEO,UAAS,oCAA+B+C,EAAS,eAAiB,IADpE,SAGE,sBAAK/C,UAAU,4BAAf,UACE,wBACEI,KAAK,SACLJ,UAAU,0CACViC,aAAW,2GACXpB,QAASmC,IAEX,qBACE/C,IAAKH,EAAMyH,SCpBN,ivFCAA,qmHFqBLvH,UAAU,qBACVG,IAAI,+EAEN,oBAAIH,UAAU,6BAAd,SACGF,EAAMyH,SACH,wKACA,8M,QGTCC,EAbQ,SAAC,GAAwC,IAA3BC,EAA0B,EAArCC,UAAyBC,EAAY,6BAEvD7H,EAAQJ,IAAMK,WAAWN,GAE/B,OACE,cAAC,IAAD,UACG,kBACCK,EAAMS,SAAW,cAACkH,EAAD,eAAeE,IAAY,cAAC,IAAD,CAAUhH,GAAG,gBCV3DiH,EAAiB,SAAC9D,GACtB,OAAKA,EAAIC,GAGFD,EAAIE,OAFFC,QAAQC,OAAR,iBAAyBJ,EAAIK,UCmTzB0D,MAnSf,WAEE,MAA4D/C,oBAAS,GAArE,mBAAOgD,EAAP,KAA+BC,EAA/B,KACA,EAAsDjD,oBAAS,GAA/D,mBAAOkD,EAAP,KAA4BC,EAA5B,KACA,EAA0DnD,oBAAS,GAAnE,mBAAOoD,EAAP,KAA8BC,EAA9B,KACA,EAAkDrD,oBAAS,GAA3D,mBAAOsD,EAAP,KAA0BC,EAA1B,KAGA,EAAsCvD,mBAAS,IAA/C,mBAAOvD,EAAP,KAAoB+G,EAApB,KAEA,EAA0BxD,mBAAS,IAAnC,mBAAOrC,EAAP,KAAc8F,EAAd,KAEMC,EAAUC,cAEhBvC,qBAAU,WACR1C,EACGkF,kBACAnE,MAAK,SAACoE,GACLJ,EAASI,MAEVC,OAAM,SAACC,GACNC,QAAQC,IAAIF,QAEf,IA6BH3C,qBAAU,WACR1C,EACGwF,iBACAzE,MAAK,SAAC0E,GACLX,EAAeW,MAEhBL,OAAM,SAACC,GACNC,QAAQC,IAAIF,QAEf,IAGH,MAAwC/D,mBAAS,MAAjD,mBAAOoE,EAAP,KAAqBC,EAArB,KA6BA,SAASC,IACPf,GAAqB,GAUvB,SAASgB,IACPtB,GAA0B,GAC1BE,GAAuB,GACvBE,GAAyB,GACzBgB,EAAgB,MAChBd,GAAqB,GA3CvBnC,qBAAU,WAER,SAASoD,EAAeC,GRxFD,WQyFrBA,EAAIC,KAAuBH,IAI7B,SAASI,EAAmBF,GAC1BA,EAAI5D,OAAO+D,UAAUC,SAAS,iBAAmBN,IAMnD,OAHAO,OAAOC,iBAAiB,UAAWP,GACnCM,OAAOC,iBAAiB,QAASJ,GAE1B,WACLG,OAAOE,oBAAoB,QAASL,GACpCG,OAAOE,oBAAoB,UAAWR,MAEvC,IAkEH,MAAgCxE,oBAAS,GAAzC,oBAAOyC,GAAP,MAAiBwC,GAAjB,MACA,GAAgCjF,oBAAS,GAAzC,qBAAOvE,GAAP,MAAiByJ,GAAjB,MACA,GAAgClF,mBAAS,CACvCrE,MAAO,GACP0G,SAAU,KAFZ,qBAAO3G,GAAP,MAAiByJ,GAAjB,MAsBM5C,GAAc,SAAC,EAAqB6C,ID9KnB,SAAC,GAA0B,IAAxBzJ,EAAuB,EAAvBA,MAAO0G,EAAgB,EAAhBA,SACjC,OAAO/C,MAAM,GAAD,OAAI4C,EAAJ,WAAuB,CACjCvC,OAAQ,OACRJ,QAAS,CACP,OAAU,mBACV,eAAgB,oBAElBK,KAAMC,KAAKC,UAAU,CAAEnE,QAAO0G,eAE/B5C,KAAKqD,ICsKJuC,CACa,CAAE1J,MAFuC,EAAjCA,MAEC0G,SAFgC,EAA1BA,WAGzB5C,MAAK,YAAgB,IAAbb,EAAY,EAAZA,MAEL0G,aAAaC,QAAQ,MAAO3G,GAE9B4G,KACAJ,OAEDtB,OAAM,SAACC,GACNC,QAAQC,IAAIF,GACZO,QAINlD,qBAAU,WACRoE,OAEC,IAEH,IAAMA,GAAa,WACjB,IDvLuB5G,ECuLjB6G,EAAMH,aAAaI,QAAQ,OAC7BD,IDxLmB7G,EC0LP6G,EDzLXnG,MAAM,GAAD,OAAI4C,EAAJ,aAAyB,CACnCvC,OAAQ,MACRJ,QAAS,CACP,eAAgB,mBAChB,cAAgB,UAAhB,OAA2BX,MAG9Ba,KAAKqD,GACLrD,MAAK,SAAAkG,GAAI,OAAIA,MCkLPlG,MAAK,SAACT,GACDA,IACFkG,IAAY,GACZxB,EAAQkC,KAAK,SACbT,GAAY,CAAExJ,MAAOqD,EAAI2G,KAAKhK,YAGjCmI,OAAM,SAACC,GACNC,QAAQC,IAAIF,OAWpB,OACE,cAAC5H,EAAmB0J,SAApB,CAA6B7K,MAAOyB,EAApC,SACE,cAAC9B,EAAWkL,SAAZ,CACE7K,MAAO,CACLU,SAAUA,GACVD,SAAUA,GACVgH,SAAUA,GACVF,YAAaA,IALjB,SAQE,qBAAKrH,UAAU,aAAf,SACE,sBAAKA,UAAU,OAAf,UACE,cAAC,EAAD,CAAQH,UAlBF,WACduK,aAAaQ,WAAW,OACxBpC,EAAQkC,KAAK,UACbV,IAAY,MAgBJ,eAAC,IAAD,WACE,cAAC,IAAD,CAAOtJ,KAAK,UAAZ,SACE,cAAC,EAAD,CAAO2G,YAAaA,OAEtB,cAAC,EAAD,CACEzG,OAAK,EACLF,KAAK,IACLH,SAAUA,GACVmH,UAAWrF,EACXI,MAAOA,EACPH,aAxJd,WACE6F,GAAyB,IAwJb3F,cAnJd,WACEuF,GAA0B,IAmJdxF,WAjJd,WACE0F,GAAuB,IAiJX7G,YA9Jd,SAAyBD,GACvBgI,EAAgBhI,IA8JJE,WA7Nd,SAAwBF,GAEtB,IAAMS,EAAUT,EAAKU,MAAMC,MAAK,SAACC,GAAD,OAAOA,EAAEL,MAAQH,EAAYG,OAE7D8B,EACGqH,qBAAqB1J,EAAKO,IAAKE,GAC/B2C,MAAK,SAACuG,GACLvC,GAAS,SAACwC,GAAD,OACPA,EAAMnI,KAAI,SAACoI,GAAD,OAAQA,EAAEtJ,MAAQP,EAAKO,IAAMoJ,EAAkBE,WAG5DpC,OAAM,SAACC,GACNC,QAAQC,IAAIF,OAkNJvH,aA/Md,SAA0BH,GAExBqC,EACGyH,WAAW9J,EAAKO,KAChB6C,MAAK,WACJgE,GAAS,SAACwC,GAAD,OAAWA,EAAMG,QAAO,SAACF,GAAD,OAAOA,EAAEtJ,MAAQP,EAAKO,aAExDkH,OAAM,SAACC,GACNC,QAAQC,IAAIF,SAyMN,cAAC,IAAD,CAAOnI,KAAK,UAAZ,SACE,cAAC,EAAD,CAAUwG,eA7FD,SAAC,EAAqBgD,IDxKvB,SAAC,GAAyB,IAAvBzJ,EAAsB,EAAtBA,MAAO0G,EAAe,EAAfA,SAChC,OAAO/C,MAAM,GAAD,OAAI4C,EAAJ,WAAuB,CACjCvC,OAAQ,OACRJ,QAAS,CACP,eAAgB,oBAElBK,KAAMC,KAAKC,UAAU,CAAEnE,QAAO0G,eAE/B5C,KAAKqD,ICiKJuC,CACY,CAAE1J,MAF2C,EAAjCA,MAEH0G,SAFoC,EAA1BA,WAG5B5C,MAAK,SAACkG,GACLR,GAAY,CAAExJ,MAAOgK,EAAKA,KAAKhK,QAC/BsJ,IAAY,GACZX,IACAc,IACA1B,EAAQkC,KAAK,cAEd9B,OAAM,SAACC,GACNC,QAAQC,IAAIF,GACZkB,IAAY,GACZX,YAkFM,cAAC,IAAD,CAAO1I,KAAK,GAAZ,SACGH,GAAW,cAAC,IAAD,CAAUI,GAAG,MAAS,cAAC,IAAD,CAAUA,GAAG,iBAGnD,cAAC,EAAD,IACA,cAAC,EAAD,CACEoC,OAAQ+E,EACR9E,QAASqG,EACTrD,aApJZ,YAA4C,IAAhB7D,EAAe,EAAfA,KAAMQ,EAAS,EAATA,MAChCa,EACG2H,eAAe,CAAEhJ,OAAMQ,UACvB4B,MAAK,SAAC0E,GACLX,EAAeW,GACfI,OAEDT,OAAM,SAACC,GACNC,QAAQC,IAAIF,SA8IR,cAAC,EAAD,CACE9F,OAAQiF,EACRhF,QAASqG,EACT9G,WAhIZ,WAA8C2H,GAAY,IAA1B/H,EAAyB,EAAzBA,KAAMD,EAAmB,EAAnBA,KACpCsB,EACG4H,QAAQ,CAAEjJ,OAAMD,SAChBqC,MAAK,SAAC8G,GACL9C,EAAS,CAAC8C,GAAF,mBAAc5I,KACtByH,IACAb,OAEDT,OAAM,SAACC,GACNC,QAAQC,IAAIF,SAyHR,cAAC,EAAD,CACE9F,OAAQmF,EACRlF,QAASqG,EACT3C,eAlJZ,WAAwCwD,GAAY,IAAtBxH,EAAqB,EAArBA,OAC5Bc,EACG8H,cAAc,CAAE5I,WAChB6B,MAAK,SAAC0E,GACLX,EAAeW,GACfiB,IACAb,OAEDT,OAAM,SAACC,GACNC,QAAQC,IAAIF,SA2IR,cAAC,EAAD,CACE1G,KAAK,eACLW,MAAM,2DACNE,QAASqG,EACTpG,YAAY,iBAEd,cAAC,EAAD,CACEF,OAAQqF,EACRpF,QAASqG,EACT9B,UAAU,IAEZ,cAAC,EAAD,CAAYvE,QAASqG,EAAgBlI,KAAM+H,cCnSxCqC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBlH,MAAK,YAAkD,IAA/CmH,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACA,cAAC,EAAD,QAGFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.0683e467.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.6129e9de.svg\";","import React from 'react';\r\n\r\nexport const AppContext = React.createContext(); \r\n","import React from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport logo from '../images/header-logo.svg';\r\nimport { Link } from 'react-router-dom';\r\nimport { AppContext } from '../contexts/AppContext';\r\n\r\nfunction Header({ onSignOut }) {\r\n  const value = React.useContext(AppContext);\r\n\r\n  return (\r\n    <header className='header page__header'>\r\n      <img className='header__logo' src={logo} alt='Логотип Место' />\r\n      <input className='menu-burger__toggle' type='checkbox' id='toggle' />\r\n      <label className='menu-burger' htmlFor='toggle'>\r\n        <span></span>\r\n      </label>\r\n      <div className='header__link-container'>\r\n        {value.loggedIn && (\r\n          <span className='header__user-mail'>{value.userData.email}</span>\r\n        )}\r\n        <Route path='/signup'>\r\n          <Link className='header__link' to='/signin'>\r\n            Войти\r\n          </Link>\r\n        </Route>\r\n        <Route path='/signin'>\r\n          <Link className='header__link' to='/signup'>\r\n            Регистрация\r\n          </Link>\r\n        </Route>\r\n        <Route exact path='/'>\r\n          <Link onClick={onSignOut} className='header__link' to='/signin'>\r\n            Выйти\r\n          </Link>\r\n        </Route>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","function Footer() {\r\n  return (\r\n      <footer className='footer page__footer container'>\r\n        <p className='footer__copyright'>&copy; {new Date().getFullYear()} Mesto Russia </p>\r\n      </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\n\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  // Определяем, являемся ли мы владельцем текущей карточки\r\n  const isOwn = card.owner._id === currentUser._id;\r\n\r\n  // Создаём переменную, которую после зададим в `className` для кнопки удаления\r\n  const cardDeleteButtonClassName = `photo__trash ${\r\n    isOwn ? 'photo__trash_type_visible' : ''\r\n  }`;\r\n\r\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\r\n  const cardLikeButtonClassName = `photo__like ${\r\n    isLiked ? 'photo__like_type_active' : ''\r\n  }`;\r\n\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <article className='photo'>\r\n      <figure className='photo__element'>\r\n        <button\r\n          className={cardDeleteButtonClassName}\r\n          type='button'\r\n          aria-label='Кнопка для Удаления'\r\n          onClick={handleDeleteClick}\r\n        ></button>\r\n        <img\r\n          src={card.link}\r\n          alt={card.name}\r\n          className='photo__image'\r\n          onClick={handleClick}\r\n        />\r\n        <figcaption className='photo__title'>\r\n          <h2 className='photo__name'>{card.name}</h2>\r\n          <div className='photo__like-container'>\r\n            <button\r\n              className={cardLikeButtonClassName}\r\n              type='button'\r\n              aria-label='Кнопка для Лайков'\r\n              onClick={handleLikeClick}\r\n            ></button>\r\n            <p className='photo__like-total'>{card.likes.length}</p>\r\n          </div>\r\n        </figcaption>\r\n      </figure>\r\n    </article>\r\n  );\r\n}\r\nexport default Card;\r\n","import React from 'react';\r\nimport Card from './Card.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main({\r\n  onEditAvatar,\r\n  onAddPlace,\r\n  onEditProfile,\r\n  onCardClick,\r\n  cards,\r\n  onCardLike,\r\n  onCardDelete,\r\n}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className='content container'>\r\n      <section className='profile content__profile container'>\r\n        <div className='profile__avatar' onClick={onEditAvatar}>\r\n          <img\r\n            className='profile__image'\r\n            src={currentUser.avatar}\r\n            alt='Картинка Аватар'\r\n          />\r\n        </div>\r\n        <div className='profile__info'>\r\n          <div className='profile__editcase'>\r\n            <h1 className='profile__name'>{currentUser.name}</h1>\r\n            <button\r\n              type='button'\r\n              className='profile__edit'\r\n              aria-label='Кнопка открытия окна редактирования профиля'\r\n              onClick={onEditProfile}\r\n            ></button>\r\n          </div>\r\n          <p className='profile__job'>{currentUser.about}</p>\r\n        </div>\r\n        <button\r\n          className='profile__add'\r\n          type='button'\r\n          aria-label='Кнопка добавления фото'\r\n          onClick={onAddPlace}\r\n        ></button>\r\n      </section>\r\n      <section className='galery content__galery' aria-label='Фото мест'>\r\n        {cards.map((card) => {\r\n          return (\r\n            <Card\r\n              key={card._id}\r\n              onCardClick={onCardClick}\r\n              card={card}\r\n              onCardLike={onCardLike}\r\n              onCardDelete={onCardDelete}\r\n            />\r\n          );\r\n        })}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","function PopupWithForm({\r\n  name,\r\n  title,\r\n  isOpen,\r\n  onClose,\r\n  buttonTitle,\r\n  children,\r\n  onSubmit,\r\n  isValid\r\n}) {\r\n  return (\r\n    <section\r\n      className={`popup popup_type_${name} ${isOpen ? 'popup_opened' : ''}`}\r\n    >\r\n      <div className='popup__container'>\r\n        <button\r\n          type='button'\r\n          className='popup__close'\r\n          aria-label='Кнопка для закрытия'\r\n          onClick={onClose}\r\n        ></button>\r\n        <h2 className='popup__title'>{title}</h2>\r\n        <form\r\n          onSubmit={onSubmit}\r\n          className='popup__form'\r\n          name={`${name}_form`}\r\n          noValidate\r\n        >\r\n          {children}\r\n          <button\r\n            className='popup__save'\r\n            type='submit'\r\n            aria-label='Кнопка Сохранить'\r\n            disabled={!isValid}\r\n          >\r\n            {buttonTitle}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\nexport default PopupWithForm;\r\n","function ImagePopup({ card, onClose }) {\r\n  return (\r\n    <section className={`popup popup_type_image ${card && 'popup_opened'}`}>\r\n      <div className='popup__container-image'>\r\n        <button\r\n          type='button'\r\n          className='popup__close popup__close_type_image'\r\n          aria-label='Кнопка для закрытия окна'\r\n          onClick={onClose}\r\n        ></button>\r\n        <figure className='popup__element-image'>\r\n          <img\r\n            // короткая проверка, знак вопроса перед точкой защищает от null и undefined\r\n            src={card?.link}\r\n            alt={card?.name}\r\n            className='popup__image'\r\n          />\r\n          <figcaption className='popup__title-image'>\r\n            <h2 className='popup__name-image'>{card ? card.name : ''}</h2>\r\n          </figcaption>\r\n        </figure>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\nexport default ImagePopup;\r\n","class Api {\r\n  constructor({ address, token }) {\r\n    this._address = address;\r\n    this._token = token;\r\n  }\r\n\r\n  _handleResponse(res) {\r\n    if (!res.ok) {\r\n      return Promise.reject(`Error: ${res.status}`);\r\n    }\r\n    return res.json();\r\n  }\r\n\r\n  getProfileInfo() {\r\n    return fetch(`${this._address}/users/me`, {\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-type': 'application/json',\r\n      },\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._address}/cards`, {\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  setProfileInfo({ name, about }) {\r\n    return fetch(`${this._address}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        name: name,\r\n        about: about,\r\n      }),\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  setUserAvatar({ avatar }) {\r\n    return fetch(`${this._address}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: avatar,\r\n      }),\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  addCard({ name, link }) {\r\n    return fetch(`${this._address}/cards`, {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        name: name,\r\n        link: link,\r\n      }),\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  removeCard(id) {\r\n    return fetch(`${this._address}/cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  changeLikeCardStatus(id, isLiked) {\r\n  return fetch(`${this._address}/cards/likes/${id}`, {\r\n    method: isLiked  ? 'DELETE' : 'PUT',\r\n    headers: {\r\n      authorization: this._token,\r\n    },\r\n  }).then(this._handleResponse);\r\n}\r\n}\r\n\r\nconst api = new Api({\r\n  address: 'https://mesto.nomoreparties.co/v1/cohort-22',\r\n  token: '239868fa-70b9-49a6-a5c6-22cb2b6196e6',\r\n});\r\n\r\nexport default api;\r\n","import { useState, useCallback } from 'react';\r\n\r\nexport default function useFormAndValidation() {\r\n  const [values, setValues] = useState({});\r\n  const [errors, setErrors] = useState({});\r\n  const [isValid, setIsValid] = useState(true);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setValues({ ...values, [name]: value });\r\n    setErrors({ ...errors, [name]: e.target.validationMessage });\r\n    setIsValid(e.target.closest('form').checkValidity());\r\n  };\r\n\r\n  const resetForm = useCallback(\r\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\r\n      setValues(newValues);\r\n      setErrors(newErrors);\r\n      setIsValid(newIsValid);\r\n    },\r\n    [setValues, setErrors, setIsValid]\r\n  );\r\n\r\n  return {\r\n    values,\r\n    handleChange,\r\n    errors,\r\n    isValid,\r\n    resetForm,\r\n    setValues,\r\n    setIsValid,\r\n  };\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport useFormAndValidation from '../hooks/useFormAndValidation.js';\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n  // Подписка на контекст\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const { values, handleChange, errors, isValid, setValues } =\r\n    useFormAndValidation();\r\n\r\n  const { name, description } = values;\r\n\r\n  // После загрузки текущего пользователя из API\r\n  // его данные будут использованы в управляемых компонентах.\r\n  useEffect(() => {\r\n    if (currentUser) {\r\n      setValues({\r\n        name: currentUser.name || '',\r\n        description: currentUser.about || '',\r\n      });\r\n    }\r\n  }, [currentUser, isOpen, setValues]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    // Передаём значения управляемых компонентов во внешний обработчик\r\n    isValid &&\r\n      onUpdateUser({\r\n        name: name,\r\n        about: description,\r\n      });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      onSubmit={handleSubmit}\r\n      name='prof_form'\r\n      title='Редактировать профиль'\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      buttonTitle='Сохранить'\r\n      isValid={isValid}\r\n    >\r\n      <fieldset className='popup__fild'>\r\n        <input\r\n          type='text'\r\n          className='popup__input popup__input_type_name'\r\n          id='name-input'\r\n          name='name'\r\n          required\r\n          minLength='2'\r\n          maxLength='40'\r\n          placeholder='имя'\r\n          value={name || ''}\r\n          onChange={handleChange}\r\n        />\r\n        <span className='popup__input-error name-input-error'>\r\n          {errors.name}\r\n        </span>\r\n        <input\r\n          type='text'\r\n          className='popup__input popup__input_type_descr'\r\n          id='about-input'\r\n          name='description'\r\n          required\r\n          minLength='2'\r\n          maxLength='200'\r\n          placeholder='описание'\r\n          value={description || ''}\r\n          onChange={handleChange}\r\n        />\r\n        <span className='popup__input-error name-input-error'>\r\n          {errors.description}\r\n        </span>\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport useFormAndValidation from '../hooks/useFormAndValidation.js';\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n  const inputRef = React.useRef();\r\n  const { values, handleChange, errors, isValid } = useFormAndValidation();\r\n\r\n  const { link } = values;\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    isValid &&\r\n      onUpdateAvatar(\r\n        {\r\n          avatar: inputRef.current.value,\r\n        },\r\n        () => {\r\n          inputRef.current.value = '';\r\n        }\r\n      );\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      onSubmit={handleSubmit}\r\n      name='avatar_form'\r\n      title='Обновить аватар'\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      buttonTitle='Сохранить'\r\n      isValid={isValid}\r\n    >\r\n      <fieldset className='popup__fild'>\r\n        <input\r\n          ref={inputRef}\r\n          type='url'\r\n          className='popup__input popup__input_type_descr popup__input-avatar'\r\n          id='avatar-link-input'\r\n          name='link'\r\n          value={link || ''}\r\n          placeholder='Ссылка на аватар'\r\n          required\r\n          onChange={handleChange}\r\n        />\r\n        <span className='popup__input-error avatar-link-input-error'>\r\n          {errors.link}\r\n        </span>\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport useFormAndValidation from '../hooks/useFormAndValidation.js';\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\r\n  const { values, handleChange, errors, isValid, setValues } =\r\n    useFormAndValidation();\r\n\r\n  const { name, link } = values;\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    isValid &&\r\n      onAddPlace({ name, link }, () => {\r\n        setValues({ link: '', name: '' });\r\n      });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      onSubmit={handleSubmit}\r\n      name='place_form'\r\n      title='Новое место'\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      buttonTitle='Создать'\r\n      isValid={isValid}\r\n    >\r\n      <fieldset className='popup__fild'>\r\n        <input\r\n          type='text'\r\n          className='popup__input popup__input_type_name'\r\n          id='place-input'\r\n          name='name'\r\n          placeholder='Название'\r\n          required\r\n          minLength='2'\r\n          maxLength='30'\r\n          onChange={handleChange}\r\n          value={name || ''}\r\n        />\r\n        <span className='popup__input-error place-input-error'>\r\n          {errors.name}\r\n        </span>\r\n        <input\r\n          type='url'\r\n          className='popup__input popup__input_type_descr'\r\n          id='link-input'\r\n          name='link'\r\n          placeholder='Ссылка на картинку'\r\n          required\r\n          onChange={handleChange}\r\n          value={link ? link : ''}\r\n        />\r\n        <span className='popup__input-error link-input-error'>\r\n          {errors.link}\r\n        </span>\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","export const ESC_KEYCODE = 'Escape';\r\n\r\nexport const BASE_URL = 'https://auth.nomoreparties.co';","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport useFormAndValidation from '../hooks/useFormAndValidation.js';\r\n\r\nconst Register = ({ handleRegister }) => {\r\n  const { values, handleChange, errors, isValid, setValues } =\r\n    useFormAndValidation();\r\n\r\n  const { email, password } = values;\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    isValid &&\r\n      handleRegister({ email, password }, () => {\r\n        setValues({});\r\n      });\r\n  };\r\n\r\n  return (\r\n    <section className='sign'>\r\n      <h2 className='sign__title'>Регистрация</h2>\r\n      <form\r\n        onSubmit={handleSubmit}\r\n        className='sign__form'\r\n        name='sign_form'\r\n        noValidate\r\n      >\r\n        <input\r\n          type='email'\r\n          className='sign__input'\r\n          id='email'\r\n          name='email'\r\n          required\r\n          minLength='2'\r\n          maxLength='20'\r\n          placeholder='Email'\r\n          value={email || ''}\r\n          onChange={handleChange}\r\n        />\r\n        <span className='sign__input-error'>{errors.email}</span>\r\n        <input\r\n          type='password'\r\n          className='sign__input'\r\n          id='password'\r\n          name='password'\r\n          required\r\n          minLength='8'\r\n          maxLength='20'\r\n          placeholder='Пароль'\r\n          value={password || ''}\r\n          onChange={handleChange}\r\n        />\r\n        <span className='sign__input-error'>{errors.password}</span>\r\n        <button\r\n          className='sign__submit'\r\n          type='submit'\r\n          aria-label='Кнопка отправить'\r\n          disabled={!isValid}\r\n        >\r\n          Зарегистрироваться\r\n        </button>\r\n      </form>\r\n      <Link className='sign__link' to='/signin'>\r\n        Уже зарегистрированы? Войти\r\n      </Link>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import React from 'react';\r\nimport useFormAndValidation from '../hooks/useFormAndValidation.js';\r\n\r\nfunction Login({ handleLogin }) {\r\n  const { values, handleChange, errors, isValid, setValues } =\r\n    useFormAndValidation();\r\n\r\n  const { email, password } = values;\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!email || !password) {\r\n      return;\r\n    }\r\n    isValid &&\r\n      handleLogin({ email, password }, () => {\r\n        setValues({});\r\n      });\r\n  };\r\n\r\n  return (\r\n    <section className='sign'>\r\n      <h2 className='sign__title'>Вход</h2>\r\n      <form\r\n        onSubmit={handleSubmit}\r\n        className='sign__form'\r\n        name='sign_form'\r\n        noValidate\r\n      >\r\n        <input\r\n          type='email'\r\n          className='sign__input'\r\n          id='email'\r\n          name='email'\r\n          required\r\n          minLength='2'\r\n          maxLength='40'\r\n          placeholder='Email'\r\n          value={email || ''}\r\n          onChange={handleChange}\r\n        />\r\n        <span className='sign__input-error'>{errors.email}</span>\r\n        <input\r\n          type='password'\r\n          className='sign__input'\r\n          id='password'\r\n          name='password'\r\n          required\r\n          minLength='2'\r\n          maxLength='200'\r\n          placeholder='Пароль'\r\n          value={password || ''}\r\n          onChange={handleChange}\r\n        />\r\n        <span className='sign__input-error'>{errors.password}</span>\r\n        <button\r\n          className='sign__submit'\r\n          type='submit'\r\n          aria-label='Кнопка отправить'\r\n          disabled={!isValid}\r\n        >\r\n          Войти\r\n        </button>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React from 'react';\r\nimport unionyes from '../images/Union-yes.png';\r\nimport unionno from '../images/Union-no.png';\r\nimport { AppContext } from '../contexts/AppContext';\r\n\r\nfunction InfoTooltip({ isOpen, onClose }) {\r\n  const value = React.useContext(AppContext);\r\n\r\n  return (\r\n    <section\r\n      className={`popup popup_type_infotool ${isOpen ? 'popup_opened' : ''}`}\r\n    >\r\n      <div className='popup__container-infotool'>\r\n        <button\r\n          type='button'\r\n          className='popup__close popup__close_type_infotool'\r\n          aria-label='Кнопка для закрытия'\r\n          onClick={onClose}\r\n        ></button>\r\n        <img\r\n          src={value.isRegist ? unionyes : unionno}\r\n          className='popup__union-image'\r\n          alt='Картинка Yes или No'\r\n        />\r\n        <h2 className='popup__title_type_infotool'>\r\n          {value.isRegist\r\n            ? 'Вы успешно зарегистрировались!'\r\n            : 'Что-то пошло не так! Попробуйте ещё раз.'}\r\n        </h2>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\nexport default InfoTooltip;\r\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { AppContext } from '../contexts/AppContext';\r\n\r\n/*jshint -W119*/\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  /*jshint +W119*/\r\n  const value = React.useContext(AppContext);\r\n\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        value.loggedIn ? <Component {...props} /> : <Redirect to='/signin' />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import { BASE_URL } from './constants';\r\n\r\nconst handleResponse = (res) => {\r\n  if (!res.ok) {\r\n    return Promise.reject(`Error: ${res.status}`);\r\n  }\r\n  return res.json();\r\n};\r\n\r\nexport const register = ({ email, password }) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ email, password }\r\n      )})\r\n  .then(handleResponse);\r\n};\r\n\r\nexport const authorize = ({ email, password })  => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ email, password })\r\n  })\r\n  .then(handleResponse)\r\n};\r\n\r\n\r\nexport const getContent = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`,\r\n    }\r\n  })\r\n  .then(handleResponse)\r\n  .then(data => data);\r\n};\r\n\r\n\r\n\r\n","import React, { useEffect, useState } from 'react';\r\nimport Header from './Header.js';\r\nimport Footer from './Footer.js';\r\nimport Main from './Main.js';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport ImagePopup from './ImagePopup.js';\r\nimport api from '../utils/api.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport EditProfilePopup from './EditProfilePopup.js';\r\nimport EditAvatarPopup from './EditAvatarPopup.js';\r\nimport AddPlacePopup from './AddPlacePopup.js';\r\nimport { ESC_KEYCODE } from '../utils/constants';\r\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\r\nimport Register from './Register';\r\nimport Login from './Login';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport { AppContext } from '../contexts/AppContext';\r\nimport * as auth from '../utils/auth';\r\n\r\nfunction App() {\r\n  // переменные состояния, отвечающие за видимость попапов\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = useState(false);\r\n\r\n  // переменная состояния, отвечающая за данные пользователя\r\n  const [currentUser, setCurrentUser] = useState({});\r\n\r\n  const [cards, setCards] = useState([]);\r\n\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    api\r\n      .getInitialCards()\r\n      .then((cardsData) => {\r\n        setCards(cardsData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  function handleCardLike(card) {\r\n    // Снова проверяем, есть ли уже лайк на этой карточке\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n    // Отправляем запросы в API и получаем обновлённые данные карточки\r\n    api\r\n      .changeLikeCardStatus(card._id, isLiked)\r\n      .then((newCardSomeLike) => {\r\n        setCards((state) =>\r\n          state.map((c) => (c._id === card._id ? newCardSomeLike : c))\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n  function handleCardDelete(card) {\r\n    // Отправляю запрос в API и получаю массив, исключив из него удалённую карточку\r\n    api\r\n      .removeCard(card._id)\r\n      .then(() => {\r\n        setCards((state) => state.filter((c) => c._id !== card._id));\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  useEffect(() => {\r\n    api\r\n      .getProfileInfo()\r\n      .then((currentUserData) => {\r\n        setCurrentUser(currentUserData);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  // переменная состояния, значением которой задается ссылка на карточку\r\n  const [selectedCard, setSelectedCard] = useState(null);\r\n\r\n  useEffect(() => {\r\n    //функция закрытия попапов по Escape\r\n    function handleEscClose(evt) {\r\n      evt.key === ESC_KEYCODE && closeAllPopups();\r\n    }\r\n\r\n    //функция закрытия попапов по оверлей\r\n    function handleOverlayClose(evt) {\r\n      evt.target.classList.contains('popup_opened') && closeAllPopups();\r\n    }\r\n\r\n    window.addEventListener('keydown', handleEscClose);\r\n    window.addEventListener('click', handleOverlayClose);\r\n\r\n    return () => {\r\n      window.removeEventListener('click', handleOverlayClose);\r\n      window.removeEventListener('keydown', handleEscClose);\r\n    };\r\n  }, []);\r\n\r\n  //  обработчики для стейтовых переменных\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n  }\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n  function handleInfoTooltipClick() {\r\n    setIsInfoTooltipOpen(true);\r\n  }\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  // функция закрытия попапов\r\n  function closeAllPopups() {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setSelectedCard(null);\r\n    setIsInfoTooltipOpen(false);\r\n  }\r\n\r\n  function handleUpdateUser({ name, about }) {\r\n    api\r\n      .setProfileInfo({ name, about })\r\n      .then((currentUserData) => {\r\n        setCurrentUser(currentUserData);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleUpdateAvatar({ avatar }, onSuccess) {\r\n    api\r\n      .setUserAvatar({ avatar })\r\n      .then((currentUserData) => {\r\n        setCurrentUser(currentUserData);\r\n        onSuccess();\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleAddPlaceSubmit({ name, link }, onSuccess) {\r\n    api\r\n      .addCard({ name, link })\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        onSuccess();\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  const [isRegist, setIsRegist] = useState(false);\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const [userData, setUserData] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n\r\n  const handleRegister = ({ email, password }, onSuccess) => {\r\n    auth\r\n      .register({ email, password })\r\n      .then((data) => {\r\n        setUserData({ email: data.data.email });\r\n        setIsRegist(true);\r\n        handleInfoTooltipClick();\r\n        onSuccess();\r\n        history.push('/signin');\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setIsRegist(false);\r\n        handleInfoTooltipClick();\r\n      });\r\n  };\r\n\r\n  const handleLogin = ({ email, password }, onSuccess) => {\r\n    auth\r\n      .authorize({ email, password })\r\n      .then(({ token }) => {\r\n        if ({ token }) {\r\n          localStorage.setItem('jwt', token);\r\n        }\r\n        checkToken();\r\n        onSuccess();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        handleInfoTooltipClick();\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    checkToken();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const checkToken = () => {\r\n    const jwt = localStorage.getItem('jwt');\r\n    if (jwt) {\r\n      auth\r\n        .getContent(jwt)\r\n        .then((res) => {\r\n          if (res) {\r\n            setLoggedIn(true);\r\n            history.push('/main');\r\n            setUserData({ email: res.data.email });\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  };\r\n\r\n  const signOut = () => {\r\n    localStorage.removeItem('jwt');\r\n    history.push('/login');\r\n    setLoggedIn(false);\r\n  };\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <AppContext.Provider\r\n        value={{\r\n          userData: userData,\r\n          loggedIn: loggedIn,\r\n          isRegist: isRegist,\r\n          handleLogin: handleLogin,\r\n        }}\r\n      >\r\n        <div className='background'>\r\n          <div className='page'>\r\n            <Header onSignOut={signOut} />\r\n            <Switch>\r\n              <Route path='/signin'>\r\n                <Login handleLogin={handleLogin} />\r\n              </Route>\r\n              <ProtectedRoute\r\n                exact\r\n                path='/'\r\n                loggedIn={loggedIn}\r\n                component={Main}\r\n                cards={cards}\r\n                onEditAvatar={handleEditAvatarClick}\r\n                onEditProfile={handleEditProfileClick}\r\n                onAddPlace={handleAddPlaceClick}\r\n                onCardClick={handleCardClick}\r\n                onCardLike={handleCardLike}\r\n                onCardDelete={handleCardDelete}\r\n              />\r\n              <Route path='/signup'>\r\n                <Register handleRegister={handleRegister} />\r\n              </Route>\r\n              <Route path=''>\r\n                {loggedIn ? <Redirect to='/' /> : <Redirect to='/signin' />}\r\n              </Route>\r\n            </Switch>\r\n            <Footer />\r\n            <EditProfilePopup\r\n              isOpen={isEditProfilePopupOpen}\r\n              onClose={closeAllPopups}\r\n              onUpdateUser={handleUpdateUser}\r\n            />\r\n            <AddPlacePopup\r\n              isOpen={isAddPlacePopupOpen}\r\n              onClose={closeAllPopups}\r\n              onAddPlace={handleAddPlaceSubmit}\r\n            />\r\n            <EditAvatarPopup\r\n              isOpen={isEditAvatarPopupOpen}\r\n              onClose={closeAllPopups}\r\n              onUpdateAvatar={handleUpdateAvatar}\r\n            />\r\n            <PopupWithForm\r\n              name='confirm_form'\r\n              title='Вы уверены?'\r\n              onClose={closeAllPopups}\r\n              buttonTitle='Да'\r\n            ></PopupWithForm>\r\n            <InfoTooltip\r\n              isOpen={isInfoTooltipOpen}\r\n              onClose={closeAllPopups}\r\n              isRegist={false}\r\n            ></InfoTooltip>\r\n            <ImagePopup onClose={closeAllPopups} card={selectedCard} />\r\n          </div>\r\n        </div>\r\n      </AppContext.Provider>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter >\r\n    <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}