{"version":3,"sources":["images/header-logo.svg","contexts/AppContext.js","components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Preloader.js","components/Main.js","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","hooks/useFormAndValidation.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/constants.js","components/Register.js","components/Login.js","components/InfoTooltip.js","images/Union-yes.png","images/Union-no.png","components/ProtectedRoute.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["AppContext","React","createContext","Header","onSignOut","value","useContext","className","src","logo","alt","type","id","htmlFor","loggedIn","userData","email","path","to","exact","onClick","Footer","Date","getFullYear","CurrentUserContext","Card","card","onCardClick","onCardLike","onCardDelete","isCardsError","currentUser","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","aria-label","link","name","length","Preloader","Main","onEditAvatar","onAddPlace","onEditProfile","cards","isCardsLoading","avatar","about","map","PopupWithForm","title","isOpen","onClose","buttonTitle","children","onSubmit","isDisabled","noValidate","disabled","ImagePopup","api","address","token","this","_address","_token","res","ok","json","Promise","reject","status","fetch","headers","authorization","then","_handleResponse","method","body","JSON","stringify","useFormAndValidation","useState","values","setValues","errors","setErrors","isValid","setIsValid","resetForm","useCallback","newValues","newErrors","newIsValid","handleChange","e","target","validationMessage","closest","checkValidity","EditProfilePopup","onUpdateUser","isSending","description","useEffect","preventDefault","required","minLength","maxLength","placeholder","onChange","EditAvatarPopup","onUpdateAvatar","inputRef","useRef","current","ref","AddPlacePopup","BASE_URL","Register","handleRegister","password","Login","handleLogin","InfoTooltip","isRegist","ProtectedRoute","Component","component","props","handleResponse","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isInfoTooltipOpen","setIsInfoTooltipOpen","isDeleteCardPopupOpen","setIsDeleteCardPopupOpen","selectedCard","setSelectedCard","cardForDelete","setCardForDelete","setIsCardsLoading","isCardsLoadError","setIsCardsLoadError","setIsRegist","setLoggedIn","setUserData","setCurrentUser","setCards","history","useHistory","closeAllPopups","undefined","handleInfoTooltipClick","getProfileInfo","currentUserData","catch","err","console","log","getInitialCards","cardsData","finally","handleEscClose","evt","key","handleOverlayClose","classList","contains","window","addEventListener","removeEventListener","isUserSending","setIsUserSending","isAvatarSending","setIsAvatarSending","isCardSending","setIsCardSending","onSuccess","auth","localStorage","setItem","checkToken","jwt","getItem","data","push","Provider","removeItem","changeLikeCardStatus","newCardSomeLike","state","c","setProfileInfo","addCard","newCard","setUserAvatar","removeCard","filter","buttonDisable","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.29cbb299.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.6129e9de.svg\";","import React from 'react';\r\n\r\nexport const AppContext = React.createContext(); \r\n","import React from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport logo from '../images/header-logo.svg';\r\nimport { Link } from 'react-router-dom';\r\nimport { AppContext } from '../contexts/AppContext';\r\n\r\nfunction Header({ onSignOut }) {\r\n  const value = React.useContext(AppContext);\r\n\r\n  return (\r\n    <header className='header page__header'>\r\n      <img className='header__logo' src={logo} alt='Логотип Место' />\r\n      <input className='menu-burger__toggle' type='checkbox' id='toggle' />\r\n      <label className='menu-burger' htmlFor='toggle'>\r\n        <span></span>\r\n      </label>\r\n      <div className='header__link-container'>\r\n        {value.loggedIn && (\r\n          <span className='header__user-mail'>{value.userData.email}</span>\r\n        )}\r\n        <Route path='/signup'>\r\n          <Link className='header__link' to='/signin'>\r\n            Войти\r\n          </Link>\r\n        </Route>\r\n        <Route path='/signin'>\r\n          <Link className='header__link' to='/signup'>\r\n            Регистрация\r\n          </Link>\r\n        </Route>\r\n        <Route exact path='/'>\r\n          <Link onClick={onSignOut} className='header__link' to='/signin'>\r\n            Выйти\r\n          </Link>\r\n        </Route>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","function Footer() {\r\n  return (\r\n      <footer className='footer page__footer container'>\r\n        <p className='footer__copyright'>&copy; {new Date().getFullYear()} Mesto Russia </p>\r\n      </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\n\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card({ card, onCardClick, onCardLike, onCardDelete, isCardsError }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  // Определяем, являемся ли мы владельцем текущей карточки\r\n  const isOwn = card.owner._id === currentUser._id;\r\n\r\n  // Создаём переменную, которую после зададим в `className` для кнопки удаления\r\n  const cardDeleteButtonClassName = `photo__trash ${\r\n    isOwn ? 'photo__trash_type_visible' : ''\r\n  }`;\r\n\r\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\r\n  const cardLikeButtonClassName = `photo__like ${\r\n    isLiked ? 'photo__like_type_active' : ''\r\n  }`;\r\n\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  return (\r\n    <article className='photo'>\r\n      <figure className='photo__element'>\r\n        <button\r\n          className={cardDeleteButtonClassName}\r\n          type='button'\r\n          aria-label='Кнопка для Удаления'\r\n          onClick={handleDeleteClick}\r\n        />\r\n        <img\r\n          src={card.link}\r\n          alt={card.name}\r\n          className='photo__image'\r\n          onClick={handleClick}\r\n        />\r\n        <figcaption className='photo__title'>\r\n          <h2 className='photo__name'>\r\n            {isCardsError ? isCardsError : card.name}\r\n          </h2>\r\n          <div className='photo__like-container'>\r\n            <button\r\n              className={cardLikeButtonClassName}\r\n              type='button'\r\n              aria-label='Кнопка для Лайков'\r\n              onClick={handleLikeClick}\r\n            />\r\n            <p className='photo__like-total'>{card.likes.length}</p>\r\n          </div>\r\n        </figcaption>\r\n      </figure>\r\n    </article>\r\n  );\r\n}\r\nexport default Card;\r\n","import React from 'react'\r\n\r\nconst Preloader = () => {\r\n    return (\r\n      <div className=\"preloader\">\r\n        <div className=\"preloader__circle\"> \r\n        </div>\r\n      </div>\r\n    )\r\n};\r\n\r\nexport default Preloader\r\n","import React from 'react';\r\nimport Card from './Card.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport Preloader from './Preloader';\r\n\r\nfunction Main({\r\n  onEditAvatar,\r\n  onAddPlace,\r\n  onEditProfile,\r\n  onCardClick,\r\n  cards,\r\n  onCardLike,\r\n  onCardDelete,\r\n  isCardsLoading,\r\n  isCardsError,\r\n}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className='content container'>\r\n      <section className='profile content__profile container'>\r\n        <div className='profile__avatar' onClick={onEditAvatar}>\r\n          <img\r\n            className='profile__image'\r\n            src={currentUser.avatar}\r\n            alt='Картинка Аватар'\r\n          />\r\n        </div>\r\n        <div className='profile__info'>\r\n          <div className='profile__editcase'>\r\n            <h1 className='profile__name'>{currentUser.name}</h1>\r\n            <button\r\n              type='button'\r\n              className='profile__edit'\r\n              aria-label='Кнопка открытия окна редактирования профиля'\r\n              onClick={onEditProfile}\r\n            ></button>\r\n          </div>\r\n          <p className='profile__job'>{currentUser.about}</p>\r\n        </div>\r\n        <button\r\n          className='profile__add'\r\n          type='button'\r\n          aria-label='Кнопка добавления фото'\r\n          onClick={onAddPlace}\r\n        ></button>\r\n      </section>\r\n      <section className='galery content__galery' aria-label='Фото мест'>\r\n        {isCardsLoading && <Preloader />}\r\n\r\n        {!isCardsLoading &&\r\n          !isCardsError &&\r\n          cards.map((card) => {\r\n            return (\r\n              <Card\r\n                key={card._id}\r\n                onCardClick={onCardClick}\r\n                card={card}\r\n                onCardLike={onCardLike}\r\n                onCardDelete={onCardDelete}\r\n                isCardsError={isCardsError}\r\n              />\r\n            );\r\n          })}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","function PopupWithForm({\r\n  name,\r\n  title,\r\n  isOpen,\r\n  onClose,\r\n  buttonTitle,\r\n  children,\r\n  onSubmit,\r\n  isDisabled = false\r\n}) {\r\n  return (\r\n    <section\r\n      className={`popup popup_type_${name} ${isOpen ? 'popup_opened' : ''}`}\r\n    >\r\n      <div className='popup__container'>\r\n        <button\r\n          type='button'\r\n          className='popup__close'\r\n          aria-label='Кнопка для закрытия'\r\n          onClick={onClose}\r\n        ></button>\r\n        <h2 className='popup__title'>{title}</h2>\r\n        <form\r\n          onSubmit={onSubmit}\r\n          className='popup__form'\r\n          name={`${name}_form`}\r\n          noValidate\r\n        >\r\n          {children}\r\n          <button\r\n            className='popup__save'\r\n            type='submit'\r\n            aria-label='Кнопка Сохранить'\r\n            disabled={isDisabled}\r\n          >\r\n            {buttonTitle}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\nexport default PopupWithForm;\r\n","function ImagePopup({ card, onClose }) {\r\n  return (\r\n    <section className={`popup popup_type_image ${card && 'popup_opened'}`}>\r\n      <div className='popup__container-image'>\r\n        <button\r\n          type='button'\r\n          className='popup__close popup__close_type_image'\r\n          aria-label='Кнопка для закрытия окна'\r\n          onClick={onClose}\r\n        ></button>\r\n        <figure className='popup__element-image'>\r\n          <img\r\n            // короткая проверка, знак вопроса перед точкой защищает от null и undefined\r\n            src={card?.link}\r\n            alt={card?.name}\r\n            className='popup__image'\r\n          />\r\n          <figcaption className='popup__title-image'>\r\n            <h2 className='popup__name-image'>{card ? card.name : ''}</h2>\r\n          </figcaption>\r\n        </figure>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\nexport default ImagePopup;\r\n","class Api {\r\n  constructor({ address, token }) {\r\n    this._address = address;\r\n    this._token = token;\r\n  }\r\n\r\n  _handleResponse(res) {\r\n    if (!res.ok) {\r\n      return Promise.reject(`Error: ${res.status}`);\r\n    }\r\n    return res.json();\r\n  }\r\n\r\n  getProfileInfo() {\r\n    return fetch(`${this._address}/users/me`, {\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-type': 'application/json',\r\n      },\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._address}/cards`, {\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  setProfileInfo({ name, about }) {\r\n    return fetch(`${this._address}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        name: name,\r\n        about: about,\r\n      }),\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  setUserAvatar({ avatar }) {\r\n    return fetch(`${this._address}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: avatar,\r\n      }),\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  addCard({ name, link }) {\r\n    return fetch(`${this._address}/cards`, {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        name: name,\r\n        link: link,\r\n      }),\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  removeCard(id) {\r\n    return fetch(`${this._address}/cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    }).then(this._handleResponse);\r\n  }\r\n\r\n  changeLikeCardStatus(id, isLiked) {\r\n  return fetch(`${this._address}/cards/likes/${id}`, {\r\n    method: isLiked  ? 'DELETE' : 'PUT',\r\n    headers: {\r\n      authorization: this._token,\r\n    },\r\n  }).then(this._handleResponse);\r\n}\r\n}\r\n\r\nconst api = new Api({\r\n  address: 'https://mesto.nomoreparties.co/v1/cohort-22',\r\n  token: '239868fa-70b9-49a6-a5c6-22cb2b6196e6',\r\n});\r\n\r\nexport default api;\r\n","import { useState, useCallback } from 'react';\r\n\r\nexport default function useFormAndValidation() {\r\n  const [values, setValues] = useState({});\r\n  const [errors, setErrors] = useState({});\r\n  const [isValid, setIsValid] = useState(true);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setValues({ ...values, [name]: value });\r\n    setErrors({ ...errors, [name]: e.target.validationMessage });\r\n    setIsValid(e.target.closest('form').checkValidity());\r\n  };\r\n\r\n  const resetForm = useCallback(\r\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\r\n      setValues(newValues);\r\n      setErrors(newErrors);\r\n      setIsValid(newIsValid);\r\n    },\r\n    [setValues, setErrors, setIsValid]\r\n  );\r\n\r\n  return {\r\n    values,\r\n    handleChange,\r\n    errors,\r\n    isValid,\r\n    resetForm,\r\n    setValues,\r\n    setIsValid,\r\n  };\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport useFormAndValidation from '../hooks/useFormAndValidation.js';\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isSending }) {\r\n  // Подписка на контекст\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const { values, handleChange, errors, isValid, setValues } =\r\n    useFormAndValidation();\r\n\r\n  const { name, description } = values;\r\n\r\n  // После загрузки текущего пользователя из API\r\n  // его данные будут использованы в управляемых компонентах.\r\n  useEffect(() => {\r\n    if (currentUser) {\r\n      setValues({\r\n        name: currentUser.name || '',\r\n        description: currentUser.about || '',\r\n      });\r\n    }\r\n  }, [currentUser, isOpen, setValues]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    // Передаём значения управляемых компонентов во внешний обработчик\r\n    isValid &&\r\n      onUpdateUser({\r\n        name: name,\r\n        about: description,\r\n      });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      onSubmit={handleSubmit}\r\n      name='prof_form'\r\n      title='Редактировать профиль'\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      isValid={isValid}\r\n      buttonTitle={isSending ? \"Сохранение...\" : \"Сохранить\"}\r\n      isDisabled={!isValid || isSending}\r\n    >\r\n      <fieldset className='popup__fild'>\r\n        <input\r\n          type='text'\r\n          className='popup__input popup__input_type_name'\r\n          id='name-input'\r\n          name='name'\r\n          required\r\n          minLength='2'\r\n          maxLength='40'\r\n          placeholder='имя'\r\n          value={name || ''}\r\n          onChange={handleChange}\r\n        />\r\n        <span className='popup__input-error name-input-error'>\r\n          {errors.name}\r\n        </span>\r\n        <input\r\n          type='text'\r\n          className='popup__input popup__input_type_descr'\r\n          id='about-input'\r\n          name='description'\r\n          required\r\n          minLength='2'\r\n          maxLength='200'\r\n          placeholder='описание'\r\n          value={description || ''}\r\n          onChange={handleChange}\r\n        />\r\n        <span className='popup__input-error name-input-error'>\r\n          {errors.description}\r\n        </span>\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport useFormAndValidation from '../hooks/useFormAndValidation.js';\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isSending }) {\r\n  const inputRef = React.useRef();\r\n  const { values, handleChange, errors,  isValid, resetForm } = useFormAndValidation();\r\n\r\n  const { link } = values;\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    isValid &&\r\n      onUpdateAvatar(\r\n        {\r\n          avatar: inputRef.current.value,\r\n        },\r\n        () => {\r\n          resetForm();\r\n        }\r\n      );\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      onSubmit={handleSubmit}\r\n      name='avatar_form'\r\n      title='Обновить аватар'\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      isValid={isValid}\r\n      buttonTitle={isSending ? \"Сохранение...\" : \"Сохранить\"}\r\n      isDisabled={!isValid || isSending}\r\n    >\r\n      <fieldset className='popup__fild'>\r\n        <input\r\n          ref={inputRef}\r\n          type='url'\r\n          className='popup__input popup__input_type_descr popup__input-avatar'\r\n          id='avatar-link-input'\r\n          name='link'\r\n          value={link || ''}\r\n          placeholder='Ссылка на аватар'\r\n          required\r\n          onChange={handleChange}\r\n        />\r\n        <span className='popup__input-error avatar-link-input-error'>\r\n          {errors.link}\r\n        </span>\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport useFormAndValidation from '../hooks/useFormAndValidation.js';\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, isSending }) {\r\n  const { values, handleChange, resetForm, errors, isValid} =\r\n    useFormAndValidation();\r\n\r\n  const { name, link } = values;\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    isValid &&\r\n      onAddPlace({ name, link }, () => {\r\n        resetForm();\r\n      });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      onSubmit={handleSubmit}\r\n      name='place_form'\r\n      title='Новое место'\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      isValid={isValid}\r\n      buttonTitle={isSending ? \"Создание...\" : \"Создать\" }\r\n      isDisabled={!isValid || isSending}\r\n    >\r\n      <fieldset className='popup__fild'>\r\n        <input\r\n          type='text'\r\n          className='popup__input popup__input_type_name'\r\n          id='place-input'\r\n          name='name'\r\n          placeholder='Название'\r\n          required\r\n          minLength='2'\r\n          maxLength='30'\r\n          onChange={handleChange}\r\n          value={name || ''}\r\n        />\r\n        <span className='popup__input-error place-input-error'>\r\n          {errors.name}\r\n        </span>\r\n        <input\r\n          type='url'\r\n          className='popup__input popup__input_type_descr'\r\n          id='link-input'\r\n          name='link'\r\n          placeholder='Ссылка на картинку'\r\n          required\r\n          onChange={handleChange}\r\n          value={link ? link : ''}\r\n        />\r\n        <span className='popup__input-error link-input-error'>\r\n          {errors.link}\r\n        </span>\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","export const ESC_KEYCODE = 'Escape';\r\n\r\nexport const BASE_URL = 'https://auth.nomoreparties.co';","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport useFormAndValidation from '../hooks/useFormAndValidation.js';\r\n\r\nconst Register = ({ handleRegister }) => {\r\n  const { values, handleChange, errors, isValid, setValues } =\r\n    useFormAndValidation();\r\n\r\n  const { email, password } = values;\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    isValid &&\r\n      handleRegister({ email, password }, () => {\r\n        setValues({});\r\n      });\r\n  };\r\n\r\n  return (\r\n    <section className='sign'>\r\n      <h2 className='sign__title'>Регистрация</h2>\r\n      <form\r\n        onSubmit={handleSubmit}\r\n        className='sign__form'\r\n        name='sign_form'\r\n        noValidate\r\n      >\r\n        <input\r\n          type='email'\r\n          className='sign__input'\r\n          id='email'\r\n          name='email'\r\n          required\r\n          minLength='2'\r\n          maxLength='20'\r\n          placeholder='Email'\r\n          value={email || ''}\r\n          onChange={handleChange}\r\n        />\r\n        <span className='sign__input-error'>{errors.email}</span>\r\n        <input\r\n          type='password'\r\n          className='sign__input'\r\n          id='password'\r\n          name='password'\r\n          required\r\n          minLength='8'\r\n          maxLength='20'\r\n          placeholder='Пароль'\r\n          value={password || ''}\r\n          onChange={handleChange}\r\n        />\r\n        <span className='sign__input-error'>{errors.password}</span>\r\n        <button\r\n          className='sign__submit'\r\n          type='submit'\r\n          aria-label='Кнопка отправить'\r\n          disabled={!isValid}\r\n        >\r\n          Зарегистрироваться\r\n        </button>\r\n      </form>\r\n      <Link className='sign__link' to='/signin'>\r\n        Уже зарегистрированы? Войти\r\n      </Link>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import React from 'react';\r\nimport useFormAndValidation from '../hooks/useFormAndValidation.js';\r\n\r\nfunction Login({ handleLogin }) {\r\n  const { values, handleChange, errors, isValid, setValues } =\r\n    useFormAndValidation();\r\n\r\n  const { email, password } = values;\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!email || !password) {\r\n      return;\r\n    }\r\n    isValid &&\r\n      handleLogin({ email, password }, () => {\r\n        setValues({});\r\n      });\r\n  };\r\n\r\n  return (\r\n    <section className='sign'>\r\n      <h2 className='sign__title'>Вход</h2>\r\n      <form\r\n        onSubmit={handleSubmit}\r\n        className='sign__form'\r\n        name='sign_form'\r\n        noValidate\r\n      >\r\n        <input\r\n          type='email'\r\n          className='sign__input'\r\n          id='email'\r\n          name='email'\r\n          required\r\n          minLength='2'\r\n          maxLength='40'\r\n          placeholder='Email'\r\n          value={email || ''}\r\n          onChange={handleChange}\r\n        />\r\n        <span className='sign__input-error'>{errors.email}</span>\r\n        <input\r\n          type='password'\r\n          className='sign__input'\r\n          id='password'\r\n          name='password'\r\n          required\r\n          minLength='2'\r\n          maxLength='200'\r\n          placeholder='Пароль'\r\n          value={password || ''}\r\n          onChange={handleChange}\r\n        />\r\n        <span className='sign__input-error'>{errors.password}</span>\r\n        <button\r\n          className='sign__submit'\r\n          type='submit'\r\n          aria-label='Кнопка отправить'\r\n          disabled={!isValid}\r\n        >\r\n          Войти\r\n        </button>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React from 'react';\r\nimport unionyes from '../images/Union-yes.png';\r\nimport unionno from '../images/Union-no.png';\r\nimport { AppContext } from '../contexts/AppContext';\r\n\r\nfunction InfoTooltip({ isOpen, onClose }) {\r\n  const value = React.useContext(AppContext);\r\n\r\n  return (\r\n    <section\r\n      className={`popup popup_type_infotool ${isOpen ? 'popup_opened' : ''}`}\r\n    >\r\n      <div className='popup__container-infotool'>\r\n        <button\r\n          type='button'\r\n          className='popup__close popup__close_type_infotool'\r\n          aria-label='Кнопка для закрытия'\r\n          onClick={onClose}\r\n        ></button>\r\n        <img\r\n          src={value.isRegist ? unionyes : unionno}\r\n          className='popup__union-image'\r\n          alt='Картинка Yes или No'\r\n        />\r\n        <h2 className='popup__title_type_infotool'>\r\n          {value.isRegist\r\n            ? 'Вы успешно зарегистрировались!'\r\n            : 'Что-то пошло не так! Попробуйте ещё раз.'}\r\n        </h2>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\nexport default InfoTooltip;\r\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { AppContext } from '../contexts/AppContext';\r\n\r\n/*jshint -W119*/\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  /*jshint +W119*/\r\n  const value = React.useContext(AppContext);\r\n\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        value.loggedIn ? <Component {...props} /> : <Redirect to='/signin' />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import { BASE_URL } from './constants';\r\n\r\nconst handleResponse = (res) => {\r\n  if (!res.ok) {\r\n    return Promise.reject(`Error: ${res.status}`);\r\n  }\r\n  return res.json();\r\n};\r\n\r\nexport const register = ({ email, password }) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ email, password }\r\n      )})\r\n  .then(handleResponse);\r\n};\r\n\r\nexport const authorize = ({ email, password })  => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ email, password })\r\n  })\r\n  .then(handleResponse)\r\n};\r\n\r\n\r\nexport const getContent = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`,\r\n    }\r\n  })\r\n  .then(handleResponse)\r\n  .then(data => data);\r\n};\r\n\r\n\r\n\r\n","import React, { useEffect, useState } from 'react';\r\nimport Header from './Header.js';\r\nimport Footer from './Footer.js';\r\nimport Main from './Main.js';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport ImagePopup from './ImagePopup.js';\r\nimport api from '../utils/api.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport EditProfilePopup from './EditProfilePopup.js';\r\nimport EditAvatarPopup from './EditAvatarPopup.js';\r\nimport AddPlacePopup from './AddPlacePopup.js';\r\nimport { ESC_KEYCODE } from '../utils/constants';\r\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\r\nimport Register from './Register';\r\nimport Login from './Login';\r\nimport InfoTooltip from './InfoTooltip';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport { AppContext } from '../contexts/AppContext';\r\nimport * as auth from '../utils/auth';\r\n\r\nfunction App() {\r\n  // переменные состояния, отвечающие за видимость попапов\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = useState(false);\r\n  const [isDeleteCardPopupOpen, setIsDeleteCardPopupOpen] = React.useState(false);\r\n    // переменная состояния, значением которой задается ссылка на карточку\r\n    const [selectedCard, setSelectedCard] = useState(null);\r\n\r\n  const [cardForDelete, setCardForDelete] = React.useState(null);\r\n  const [isCardsLoading, setIsCardsLoading] = React.useState(false);\r\n  const [isCardsLoadError, setIsCardsLoadError] = React.useState();\r\n\r\n  const [isRegist, setIsRegist] = useState(false);\r\n  const [loggedIn, setLoggedIn] = useState(false);\r\n  const [userData, setUserData] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n\r\n  // переменная состояния, отвечающая за данные пользователя\r\n  const [currentUser, setCurrentUser] = useState({});\r\n\r\n  const [cards, setCards] = useState([]);\r\n\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    if (loggedIn) {\r\n      api\r\n        .getProfileInfo()\r\n        .then((currentUserData) => {\r\n          setCurrentUser(currentUserData);\r\n        })\r\n        .catch((err) => console.log(err));\r\n\r\n        setIsCardsLoading(true);\r\n        setIsCardsLoadError();\r\n      api\r\n        .getInitialCards()\r\n        .then((cardsData) => {\r\n          setCards(cardsData);\r\n        })\r\n        .catch(err => setIsCardsLoadError(err))\r\n        .finally(() => setIsCardsLoading(false));\r\n    }\r\n  }, [loggedIn]);\r\n\r\n   // функция закрытия попапов\r\n   function closeAllPopups() {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsDeleteCardPopupOpen(false);\r\n    setSelectedCard(null);\r\n    setIsInfoTooltipOpen(false);\r\n    setCardForDelete(undefined);\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    // Снова проверяем, есть ли уже лайк на этой карточке\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n    // Отправляем запросы в API и получаем обновлённые данные карточки\r\n    api\r\n      .changeLikeCardStatus(card._id, isLiked)\r\n      .then((newCardSomeLike) => {\r\n        setCards((state) =>\r\n          state.map((c) => (c._id === card._id ? newCardSomeLike : c))\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleCardDeleteRequest(card) {\r\n    setCardForDelete(card);\r\n    setIsDeleteCardPopupOpen(true);\r\n  }\r\n\r\n\r\n  function handleCardDelete(evt) {\r\n    evt.preventDefault();\r\n    // Отправляю запрос в API и получаю массив, исключив из него удалённую карточку\r\n    api\r\n      .removeCard(cardForDelete._id)\r\n      .then(() => {\r\n        setCards((state) => state.filter((c) => c._id !== cardForDelete._id));\r\n        setIsDeleteCardPopupOpen(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    //функция закрытия попапов по Escape\r\n    function handleEscClose(evt) {\r\n      evt.key === ESC_KEYCODE && closeAllPopups();\r\n    }\r\n\r\n    //функция закрытия попапов по оверлей\r\n    function handleOverlayClose(evt) {\r\n      evt.target.classList.contains('popup_opened') && closeAllPopups();\r\n    }\r\n\r\n    window.addEventListener('keydown', handleEscClose);\r\n    window.addEventListener('click', handleOverlayClose);\r\n\r\n    return () => {\r\n      window.removeEventListener('click', handleOverlayClose);\r\n      window.removeEventListener('keydown', handleEscClose);\r\n    };\r\n  }, []);\r\n\r\n  //  обработчики для стейтовых переменных\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n  }\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n  function handleInfoTooltipClick() {\r\n    setIsInfoTooltipOpen(true);\r\n  }\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n\r\n \r\n  const [isUserSending, setIsUserSending] = React.useState(false);\r\n  function handleUpdateUser({ name, about }) {\r\n    setIsUserSending(true);\r\n    api\r\n      .setProfileInfo({ name, about })\r\n      .then((currentUserData) => {\r\n        setCurrentUser(currentUserData);\r\n        closeAllPopups();\r\n      })\r\n      .catch(err => console.log(`При обновлении информации о пользователе: ${err}`))\r\n      .finally(() => setIsUserSending(false));\r\n  }\r\n\r\n  const [isAvatarSending, setIsAvatarSending] = React.useState(false);\r\n  function handleUpdateAvatar({ avatar }, onSuccess) {\r\n    setIsAvatarSending(true);\r\n    api\r\n      .setUserAvatar({ avatar })\r\n      .then((currentUserData) => {\r\n        setCurrentUser(currentUserData);\r\n        onSuccess();\r\n        closeAllPopups();\r\n      })\r\n      .catch(err => console.log(`При обновлении аватара: ${err}`))\r\n      .finally(() => setIsAvatarSending(false));\r\n  }\r\n\r\n  const [isCardSending, setIsCardSending] = React.useState(false);\r\n  function handleAddPlaceSubmit({ name, link }, onSuccess) {\r\n    setIsCardSending(true);\r\n    api\r\n      .addCard({ name, link })\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        onSuccess();\r\n        closeAllPopups();\r\n      })\r\n      .catch(err => console.log(`Добавление карточки: ${err}`))\r\n      .finally(() => setIsCardSending(false));\r\n  }\r\n\r\n  \r\n\r\n  const handleRegister = ({ email, password }, onSuccess) => {\r\n    auth\r\n      .register({ email, password })\r\n      .then((data) => {\r\n        setUserData({ email: data.data.email });\r\n        setIsRegist(true);\r\n        handleInfoTooltipClick();\r\n        onSuccess();\r\n        history.push('/signin');\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setIsRegist(false);\r\n        handleInfoTooltipClick();\r\n      });\r\n  };\r\n\r\n  const handleLogin = ({ email, password }, onSuccess) => {\r\n    auth\r\n      .authorize({ email, password })\r\n      .then(({ token }) => {\r\n        if ({ token }) {\r\n          localStorage.setItem('jwt', token);\r\n        }\r\n        checkToken();\r\n        onSuccess();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        handleInfoTooltipClick();\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    checkToken();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const checkToken = () => {\r\n    const jwt = localStorage.getItem('jwt');\r\n    if (jwt) {\r\n      auth\r\n        .getContent(jwt)\r\n        .then((res) => {\r\n          if (res) {\r\n            setLoggedIn(true);\r\n            history.push('/main');\r\n            setUserData({ email: res.data.email });\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  };\r\n\r\n  const signOut = () => {\r\n    localStorage.removeItem('jwt');\r\n    history.push('/login');\r\n    setLoggedIn(false);\r\n  };\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <AppContext.Provider\r\n        value={{\r\n          userData: userData,\r\n          loggedIn: loggedIn,\r\n          isRegist: isRegist,\r\n          handleLogin: handleLogin,\r\n        }}\r\n      >\r\n        <div className='background'>\r\n          <div className='page'>\r\n            <Header onSignOut={signOut} />\r\n            <Switch>\r\n              <Route path='/signin'>\r\n                <Login handleLogin={handleLogin} />\r\n              </Route>\r\n              <ProtectedRoute\r\n                exact\r\n                path='/'\r\n                loggedIn={loggedIn}\r\n                component={Main}\r\n                cards={cards}\r\n                onEditAvatar={handleEditAvatarClick}\r\n                onEditProfile={handleEditProfileClick}\r\n                onAddPlace={handleAddPlaceClick}\r\n                onCardClick={handleCardClick}\r\n                onCardLike={handleCardLike}\r\n                onCardDelete={handleCardDeleteRequest}\r\n                isCardsLoading={isCardsLoading}\r\n                isCardsError={isCardsLoadError}\r\n              />\r\n              <Route path='/signup'>\r\n                <Register handleRegister={handleRegister} />\r\n              </Route>\r\n              <Route path=''>\r\n                {loggedIn ? <Redirect to='/' /> : <Redirect to='/signin' />}\r\n              </Route>\r\n            </Switch>\r\n            <Footer />\r\n            <EditProfilePopup\r\n              isOpen={isEditProfilePopupOpen}\r\n              onClose={closeAllPopups}\r\n              onUpdateUser={handleUpdateUser}\r\n              isSending={isUserSending}\r\n            />\r\n            <AddPlacePopup\r\n              isOpen={isAddPlacePopupOpen}\r\n              onClose={closeAllPopups}\r\n              onAddPlace={handleAddPlaceSubmit}\r\n              isSending={isCardSending}\r\n            />\r\n            <EditAvatarPopup\r\n              isOpen={isEditAvatarPopupOpen}\r\n              onClose={closeAllPopups}\r\n              onUpdateAvatar={handleUpdateAvatar}\r\n              isSending={isAvatarSending}\r\n            />\r\n            <InfoTooltip\r\n              isOpen={isInfoTooltipOpen}\r\n              onClose={closeAllPopups}\r\n              isRegist={false}\r\n            />\r\n            <ImagePopup onClose={closeAllPopups} card={selectedCard} />\r\n            <PopupWithForm \r\n                isOpen={isDeleteCardPopupOpen} \r\n                title=\"Вы уверены?\" \r\n                name=\"confirm\" \r\n                buttonTitle='Да' \r\n                onSubmit={handleCardDelete} \r\n                onClose={closeAllPopups}\r\n                buttonDisable = {false}\r\n              />\r\n          </div>\r\n        </div>\r\n      </AppContext.Provider>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter >\r\n    <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}